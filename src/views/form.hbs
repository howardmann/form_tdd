<form name="myForm">
  <input type="text" name="company">
  <input type="text" name="email">
  <input type="password" name="password">
  <input type="submit">
</form>

<script>
  let $form = document.querySelector('form[name="myForm"]')
  let $flashSuccess = document.querySelector('#flash-success')
  let $flashError = document.querySelector('#flash-error')

  $form.addEventListener('submit', (e)=> {
    e.preventDefault()
    let company = e.target.company.value
    let email = e.target.email.value
    let password = e.target.password.value
    
    let validEmail = validateEmail(email) 
    let errorList = []
    if (!company) {
      let msg = 'company name required'
      errorList.push(msg)
    }

    if(!validEmail) {
      let msg = `${email} is not a valid email`
      errorList.push(msg)
    }

    if(password.length < 7) {
      let msg = `password must be min 7 characters`
      errorList.push(msg)
    }

    if (errorList.length > 0) {
      let liArr = errorList.map(el => `<li>${el}</li>`)
      let HTML = `
      <ul>
        ${liArr.join('')}
      </ul>
      `
      $flashError.innerHTML = HTML
      return
    }
    $flashSuccess.innerText = `Success: ${company}`
  })

  function validateEmail(email) {
      var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
      return re.test(String(email).toLowerCase());
  }
</script>