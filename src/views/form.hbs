<form name="myForm">
  <input type="text" name="company">
  <input type="text" name="email">
  <input type="password" name="password">
  <input type="submit">
</form>

<script src="//cdnjs.cloudflare.com/ajax/libs/validate.js/0.13.1/validate.min.js"></script>
<script>
  let $form = document.querySelector('form[name="myForm"]')
  let $flashSuccess = document.querySelector('#flash-success')
  let $flashError = document.querySelector('#flash-error')

  $form.addEventListener('submit', (e)=> {
    e.preventDefault()
    let company = e.target.company.value || null
    let email = e.target.email.value
    let password = e.target.password.value
    
    let errorList = validateForm({company, email, password})    
    if (errorList.length > 0) {
      let liArr = errorList.map(el => `<li>${el}</li>`)
      let HTML = `
      <ul>
        ${liArr.join('')}
      </ul>
      `
      $flashError.innerHTML = HTML
      return
    }
    $flashSuccess.innerText = `Success: ${company}`
  })

  function validateForm(payload) {
    let schema = {
      company: {
        presence: {
          message: 'company name required'
        }    
      },
      email: {
        email: {
          message: (el) => `${el} is not a valid email`
        }
      },
      password: {
        length: {
          minimum: 7,
          message: 'password must be min 7 characters'
        }
      }
    }

    let result = validate(payload, schema, {fullMessages: false})
    if(!result) { return true}
    let errorList = []
    for (var key in result) {
      errorList.push(result[key][0])
    }
    return errorList
  } 
</script>